{% extends "_base.html" %}

{% block title %}{{ folder.name }} - MealPal{% endblock %}

{% block content %}
    <div>
        <h1 class="text-center text-2xl text-primary-600 pt-10">{{ folder.name }}</h1>
        <div class="flex flex-wrap flex-col w-full justify-center pt-8">
            {% for recipe in folder.recipes %}
                <div class="rounded-lg bg-white shadow-md w-full flex flex-row mb-6 border-2 border-primary-600">
                    <img src="{{ recipe.img_url }}" alt="{{ recipe.title }}" class="max-w-[200px] w-full h-40 object-cover rounded-l-lg ">
                    <div class="mx-4 my-2 flex flex-col">
                        <div class="flex flex-row items-center">
                            <h2 class="text-2xl font-medium text-primary-600">{{ recipe.title }}</h2>
                            <span class="muted font-light ml-4">{{recipe.ready_in}} minutes</span>
                        </div>
                        <div class="flex gap-x-2">
                            {% for type in recipe.dish_types_list[:3] %}
                                <span class="px-2 py-1 bg-primary-500 text-white-100 rounded-lg text-xs font-normal">{{ type }}</span>
                            {% endfor %}
                        </div>
                        <p class="mt-2 max-w-[450px]">{{ recipe.instructions | truncate(200, True, '...')  }}</p>
                    </div>
                    <div class="flex flex-col justify-between m-2">
                        <a href="{{ url_for('recipes.recipe_detail', id=recipe.id) }}" class="inline-flex justify-end text-xl text-primary-500"><i class="fas fa-folder-open"></i></a>
                        <a href="{{ url_for('recipes.recipe_detail', id=recipe.id) }}" class="btn btn-primary">Open</a>
                    </div>
                </div>
            {% else %}
                <p class="text-center muted">No recipes found in this folder.</p>
            {% endfor %}
        </div>
    </div>
{% endblock %}
